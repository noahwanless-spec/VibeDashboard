<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Noah's Vibe Dashboard ‚òï</title>
  <style>
    :root {
      --bg: #ffffff;
      --card: #f8f9fa;
      --text: #212529;
      --accent: #006400;
      --green: #008000;
      --red: #dc3545;
      --border: #dee2e6;
      --shadow: rgba(0,0,0,0.1);
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #121212;
        --card: #1e1e1e;
        --text: #e0e0e0;
        --accent: #90ee90;
        --green: #98fb98;
        --red: #ff6b6b;
        --border: #333;
        --shadow: rgba(0,0,0,0.4);
      }
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding: 2rem;
      box-sizing: border-box;
      transition: background 0.3s, color 0.3s;
    }

    h1 {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 2rem;
      color: var(--accent);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 1.5rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    .card {
      background: var(--card);
      border-radius: 16px;
      padding: 1.5rem;
      box-shadow: 0 8px 32px var(--shadow);
      border: 1px solid var(--border);
      transition: transform 0.2s, background 0.3s;
    }

    .card:hover {
      transform: translateY(-5px);
    }

    .card h2 {
      margin: 0 0 1rem;
      font-size: 1.4rem;
      color: var(--accent);
      border-bottom: 1px solid var(--border);
      padding-bottom: 0.5rem;
    }

    .devotional-card {
      grid-column: 1 / -1; /* Full width for big devotional */
      min-height: 900px;
    }

    #devotional {
      font-size: 1.2rem;
      line-height: 1.7;
      max-height: 800px;
      overflow-y: auto;
      padding-right: 1rem;
    }

    #devotional .paragraph {
      margin-bottom: 1.2rem;
    }

    #devotional .verse-num {
      font-weight: bold;
      color: var(--accent);
      margin-right: 0.3rem;
    }

    #devotional .overviews {
      margin-top: 2.5rem;
      border-top: 1px solid var(--border);
      padding-top: 2rem;
    }

    #devotional .overviews h5 {
      margin: 1.5rem 0 0.5rem;
      color: var(--accent);
    }

    #devotional .synopsis {
      font-style: italic;
      color: #666;
      margin-bottom: 1rem;
    }

    #devotional .prayer {
      margin-top: 2rem;
      padding: 1rem;
      background: rgba(0,100,0,0.05);
      border-radius: 8px;
      font-style: italic;
    }

    #workout ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    #workout li {
      margin-bottom: 1rem;
      font-size: 1.1rem;
    }

    #chat-messages {
      list-style: none;
      padding: 0;
      margin: 0 0 1rem 0;
      max-height: 300px;
      overflow-y: auto;
      background: rgba(0,0,0,0.03);
      border-radius: 8px;
      padding: 0.8rem;
    }

    #chat-messages li {
      margin-bottom: 0.8rem;
    }

    #chat-messages .user {
      text-align: right;
      color: var(--accent);
    }

    #chat-messages .grok {
      text-align: left;
      color: #006400;
    }

    #chat-input {
      width: 100%;
      padding: 0.8rem;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 1rem;
      background: var(--card);
      color: var(--text);
    }

    #weather { font-size: 1.2rem; }
    #weather .temp { font-size: 3rem; font-weight: bold; margin: 0.5rem 0; }
    #calendar iframe { width: 100%; height: 500px; border: none; border-radius: 12px; }
    footer {
      text-align: center;
      margin-top: 3rem;
      opacity: 0.8;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <h1>Noah's Vibe Dashboard üåßÔ∏èüóìÔ∏èüôè</h1>

  <div class="grid">
    <div class="card">
      <h2>Essex, MD Weather</h2>
      <div id="weather">Loading weather...</div>
    </div>

    <div class="card" id="calendar">
      <h2>My Calendar</h2>
      <iframe src="https://calendar.google.com/calendar/embed?src=en.usa%23holiday%40group.v.calendar.google.com&ctz=America%2FNew_York" style="border: 0" width="100%" height="500" frameborder="0" scrolling="no"></iframe>
      <p style="font-size:0.9rem; margin-top:1rem; opacity:0.7;">‚Üë Replace src= with your personal embed</p>
    </div>

    <div class="card">
      <h2>Daily Home Workout (~15 Min)</h2>
      <div id="workout">Generating today's regimen...</div>
    </div>

    <div class="card">
      <h2>Ask Grok</h2>
      <div id="chat-messages"></div>
      <input type="text" id="chat-input" placeholder="Ask Grok anything... (e.g., explain Romans 12:1-2)" />
    </div>

    <div class="card devotional-card">
      <h2>Daily Devotional (NKJV - New Testament Journey)</h2>
      <div id="devotional">Loading today's chapter...</div>
    </div>
  </div>

  <footer>Vibe coded by Grok ‚Ä¢ Jan 30, 2026 ‚Ä¢ Essex, MD ‚Ä¢ Refresh for updates</footer>

  <script>
    const corsProxy = 'https://api.allorigins.win/raw?url=';

    // Weather fetch (unchanged)
    async function getWeather() {
      try {
        const url = 'https://api.open-meteo.com/v1/forecast?latitude=39.309&longitude=-76.475&current=temperature_2m,apparent_temperature,weather_code,wind_speed_10m&temperature_unit=fahrenheit&wind_speed_unit=mph&precipitation_unit=inch&timezone=America%2FNew_York';
        const res = await fetch(url);
        if (!res.ok) throw new Error('Weather HTTP ' + res.status);
        const data = await res.json();
        const current = data.current;
        const weatherCodes = { 0: 'Clear sky üå§Ô∏è', 1: 'Mainly clear', 2: 'Partly cloudy ‚òÅÔ∏è', 3: 'Overcast', 45: 'Fog', 51: 'Light drizzle', 61: 'Rain üåßÔ∏è', 71: 'Snow ‚ùÑÔ∏è', 80: 'Rain showers' };
        const code = current.weather_code;
        const desc = weatherCodes[code] || 'Unknown';
        document.getElementById('weather').innerHTML = `
          <div class="temp">${Math.round(current.temperature_2m)}¬∞F</div>
          <p>Feels like: ${Math.round(current.apparent_temperature)}¬∞F</p>
          <p>${desc} ‚Ä¢ Wind: ${Math.round(current.wind_speed_10m)} mph</p>
        `;
      } catch (err) {
        console.error('Weather error:', err);
        document.getElementById('weather').innerHTML = 'Weather failed üòÖ';
      }
    }
    getWeather();

    // Devotional with paragraph style + restored insights
    async function getDevotional() {
      try {
        const ntBooks = [
          { name: 'Romans', chapters: 16, bookId: 45 },
          { name: '1 Corinthians', chapters: 16, bookId: 46 },
          { name: '2 Corinthians', chapters: 13, bookId: 47 },
          { name: 'Galatians', chapters: 6, bookId: 48 },
          { name: 'Ephesians', chapters: 6, bookId: 49 },
          { name: 'Philippians', chapters: 4, bookId: 50 },
          { name: 'Colossians', chapters: 4, bookId: 51 },
          { name: '1 Thessalonians', chapters: 5, bookId: 52 },
          { name: '2 Thessalonians', chapters: 3, bookId: 53 },
          { name: '1 Timothy', chapters: 6, bookId: 54 },
          { name: '2 Timothy', chapters: 4, bookId: 55 },
          { name: 'Titus', chapters: 3, bookId: 56 },
          { name: 'Philemon', chapters: 1, bookId: 57 },
          { name: 'Hebrews', chapters: 13, bookId: 58 },
          { name: 'James', chapters: 5, bookId: 59 },
          { name: '1 Peter', chapters: 5, bookId: 60 },
          { name: '2 Peter', chapters: 3, bookId: 61 },
          { name: '1 John', chapters: 5, bookId: 62 },
          { name: '2 John', chapters: 1, bookId: 63 },
          { name: '3 John', chapters: 1, bookId: 64 },
          { name: 'Jude', chapters: 1, bookId: 65 },
          { name: 'Revelation', chapters: 22, bookId: 66 }
        ];

        const startDate = new Date('2026-01-30T00:00:00');
        const today = new Date();
        const daysSince = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));
        const totalChapters = ntBooks.reduce((sum, b) => sum + b.chapters, 0);
        const chapterIndex = daysSince % totalChapters;

        let cumulative = 0;
        let currentBook = null;
        let chapterNum = 0;
        for (const book of ntBooks) {
          if (chapterIndex < cumulative + book.chapters) {
            currentBook = book;
            chapterNum = (chapterIndex - cumulative) + 1;
            break;
          }
          cumulative += book.chapters;
        }

        const devoUrl = `https://bolls.life/get-text/NKJV/${currentBook.bookId}/${chapterNum}/`;
        const res = await fetch(corsProxy + devoUrl);
        if (!res.ok) throw new Error('Devotional HTTP ' + res.status);
        const verses = await res.json();

        let chapterHtml = `<h3>${currentBook.name} ${chapterNum} (NKJV)</h3>`;

        // Paragraph grouping: every 5 verses (approximate paragraphs for all chapters)
        for (let i = 0; i < verses.length; i += 5) {
          chapterHtml += '<div class="paragraph">';
          const group = verses.slice(i, i + 5);
          group.forEach((v, idx) => {
            if (idx > 0) chapterHtml += ' ';
            chapterHtml += `<span class="verse-num">${v.verse}.</span> ${v.text}`;
          });
          chapterHtml += '</div>';
        }

        const bookLower = currentBook.name.toLowerCase();
        const chapterStr = chapterNum;

        chapterHtml += `
          <div class="overviews">
            <h4>Scholarly Overviews & Teachings:</h4>

            <h5>Voddie Baucham</h5>
            <p class="synopsis">
              Voddie Baucham teaches with a strong focus on Christ-centered exposition and the unity of Scripture. In Matthew, particularly the genealogy and early chapters, he highlights how Jesus fulfills Old Testament promises as the promised seed from Abraham and David, demonstrating God's sovereign, redemptive plan across history. He rejects moralistic or cultural interpretations, urging believers to see the Bible as one cohesive story pointing to Christ. His approach calls for gospel transformation that combats compromise and equips families to stand firm in truth amid cultural pressures.
            </p>
            <a href="https://www.youtube.com/results?search_query=voddie+baucham+${bookLower}+${chapterStr}" target="_blank">Watch Voddie Baucham on ${currentBook.name} ${chapterNum}</a>

            <h5>Paul Washer</h5>
            <p class="synopsis">
              Paul Washer emphasizes God's sovereignty, the true gospel, and costly discipleship. For Matthew's narratives‚Äîlike Jesus' birth, temptation, or kingdom teachings‚Äîhe connects them to God's eternal purpose and the need for genuine repentance over superficial faith. He warns against easy-believism, stressing that following Christ demands heart examination, obedience, and reliance on grace alone. His messages challenge believers to live unashamedly for Christ, bearing fruit that honors God rather than self, and to endure suffering with eternal perspective.
            </p>
            <a href="https://www.youtube.com/results?search_query=paul+washer+${bookLower}+${chapterStr}" target="_blank">Watch Paul Washer on ${currentBook.name} ${chapterNum}</a>

            <h5>Ron Carpenter</h5>
            <p class="synopsis">
              Ron Carpenter delivers practical, motivational teaching centered on identity in Christ and stepping into God's calling. In Matthew passages (e.g., Joseph's obedience in chapter 1 or kingdom principles), he encourages surrendering fears to trust God's plan, breaking free from limiting beliefs, and pursuing breakthrough faith. He often ties Scripture to personal destiny, urging believers to align with God's promises for victorious living, family strength, and purpose-driven impact in everyday life.
            </p>
            <a href="https://www.youtube.com/results?search_query=ron+carpenter+${bookLower}+${chapterStr}" target="_blank">Watch Ron Carpenter on ${currentBook.name} ${chapterNum}</a>

            <h5>Unashamed with the Robertson Family</h5>
            <p class="synopsis">
              The Unashamed podcast (Phil, Jase, Al Robertson + guests) brings unfiltered, family-centered Bible teaching with real-life application. When they reference Matthew (e.g., Jesus' genealogy, birth story, or kingdom teachings), they emphasize God's sovereign plan unfolding through ordinary people, the gospel's power to transform lives, and living unashamed in faith. Phil often ties it to redemptive history and moral truth, while Jase/Al highlight practical obedience, grace amid imperfection, and how Jesus fulfills promises as the ultimate King and Savior. Episodes stress sharing the gospel boldly, family discipleship, and trusting God's timing in uncertainty ‚Äî perfect for everyday believers.
            </p>
            <a href="https://www.youtube.com/results?search_query=unashamed+podcast+${bookLower}+${chapterStr}+OR+matthew+robertson" target="_blank">Watch Unashamed podcast on ${currentBook.name} ${chapterNum} or Matthew themes</a>

            <h5>Closing Prayer</h5>
            <div class="prayer">
              Heavenly Father, thank You for the rich truth in ${currentBook.name} chapter ${chapterStr}, revealing Jesus as the promised Messiah, sovereign King, and our Savior. Help us grasp Your redemptive plan through Scripture's unity, live unashamed in the gospel's power, and surrender fully to Your will like Joseph or the disciples. Strengthen our families, deepen our repentance, and equip us to share Your truth boldly amid life's uncertainties. May we trust Your timing, obey with joy, and reflect Christ's love daily. In Jesus' name, Amen.
            </div>

            <p style="margin-top:2rem;">(Links open YouTube searches for sermons/podcast episodes. Refresh tomorrow for next chapter!)</p>
          </div>
        `;

        document.getElementById('devotional').innerHTML = chapterHtml;
      } catch (err) {
        console.error('Devotional error:', err);
        document.getElementById('devotional').innerHTML = 'Chapter load failed üòÖ ‚Äì try refreshing or read Romans 12 in your Bible app.';
      }
    }
    getDevotional();

    // Daily Home Workout
    function getWorkout() {
      const startDate = new Date('2026-01-30T00:00:00');
      const today = new Date();
      const daysSince = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));
      const variant = daysSince % 5;
      const baseReps = 10 + (daysSince % 6) * 2;
      const sets = 3;

      let workoutHtml = '<ul>';
      workoutHtml += `<li>${sets} sets of ${baseReps} Push-ups (rest 45 sec)</li>`;
      workoutHtml += `<li>${sets} sets of ${baseReps + variant} Bodyweight Squats (rest 45 sec)</li>`;
      workoutHtml += `<li>${sets} sets of ${baseReps + variant * 2} Crunches or Plank holds (20‚Äì40 sec each, rest 30 sec)</li>`;
      if (variant >= 2) workoutHtml += `<li>${sets} sets of 10‚Äì15 Lunges per leg (rest 45 sec)</li>`;
      if (variant === 4) workoutHtml += `<li>Bonus: 2 min Wall Sit or Superman holds</li>`;
      workoutHtml += '</ul>';
      workoutHtml += '<p>~15 min total. Warm up 2 min, cool down stretch. Change tomorrow!</p>';

      document.getElementById('workout').innerHTML = workoutHtml;
    }
    getWorkout();

    // Ask Grok Chat (mock mode)
    const chatInput = document.getElementById('chat-input');
    const chatMessages = document.getElementById('chat-messages');

    chatInput.addEventListener('keypress', async (e) => {
      if (e.key === 'Enter' && chatInput.value.trim()) {
        const userMsg = chatInput.value.trim();
        chatMessages.innerHTML += `<li class="user">You: ${userMsg}</li>`;
        chatInput.value = '';
        chatMessages.scrollTop = chatMessages.scrollHeight;

        const mockReplies = [
          "Hey Noah, Romans 12 is powerful ‚Äì living sacrifice, renewing the mind, using your gifts. How's it hitting you today?",
          "Grok here. Want a quick breakdown of today's chapter or workout motivation?",
          "Vibe check: pushups and Scripture both build strength. What's on your mind?",
          "Unashamed style: trust God's plan, stay bold. Need prayer or explanation?"
        ];
        const reply = mockReplies[Math.floor(Math.random() * mockReplies.length)];
        setTimeout(() => {
          chatMessages.innerHTML += `<li class="grok">Grok: ${reply}</li>`;
          chatMessages.scrollTop = chatMessages.scrollHeight;
        }, 800);
      }
    });
  </script>
</body>
</html>