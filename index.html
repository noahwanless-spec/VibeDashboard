<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Noah's Vibe Dashboard ‚òï</title>
  <style>
    :root {
      --bg: #ffffff;
      --card: #f8f9fa;
      --text: #212529;
      --accent: #006400;
      --green: #008000;
      --red: #dc3545;
      --border: #dee2e6;
      --shadow: rgba(0,0,0,0.1);
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #121212;
        --card: #1e1e1e;
        --text: #e0e0e0;
        --accent: #90ee90;
        --green: #98fb98;
        --red: #ff6b6b;
        --border: #333;
        --shadow: rgba(0,0,0,0.4);
      }
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding: 2rem;
      box-sizing: border-box;
      transition: background 0.3s, color 0.3s;
    }

    h1 {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 2rem;
      color: var(--accent);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 1.5rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    .card {
      background: var(--card);
      border-radius: 16px;
      padding: 1.5rem;
      box-shadow: 0 8px 32px var(--shadow);
      border: 1px solid var(--border);
      transition: transform 0.2s, background 0.3s;
    }

    .card:hover {
      transform: translateY(-5px);
    }

    .card h2 {
      margin: 0 0 1rem;
      font-size: 1.4rem;
      color: var(--accent);
      border-bottom: 1px solid var(--border);
      padding-bottom: 0.5rem;
    }

    .devotional-card {
      grid-column: 1 / -1;
      min-height: 900px;
    }

    #devotional {
      font-size: 1.2rem;
      line-height: 1.7;
      max-height: 800px;
      overflow-y: auto;
      padding-right: 1rem;
    }

    #devotional .paragraph {
      margin-bottom: 1.2rem;
    }

    #devotional .verse-num {
      font-weight: bold;
      color: var(--accent);
      margin-right: 0.3rem;
    }

    #devotional .overviews {
      margin-top: 2.5rem;
      border-top: 1px solid var(--border);
      padding-top: 2rem;
    }

    #devotional .overviews h5 {
      margin: 1.5rem 0 0.5rem;
      color: var(--accent);
    }

    #devotional .synopsis {
      font-style: italic;
      color: #666;
      margin-bottom: 1rem;
    }

    #devotional .prayer {
      margin-top: 2rem;
      padding: 1rem;
      background: rgba(0,100,0,0.05);
      border-radius: 8px;
      font-style: italic;
    }

    #workout ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    #workout li {
      margin-bottom: 1rem;
      font-size: 1.1rem;
    }

    #chat-messages {
      list-style: none;
      padding: 0;
      margin: 0 0 1rem 0;
      max-height: 300px;
      overflow-y: auto;
      background: rgba(0,0,0,0.03);
      border-radius: 8px;
      padding: 0.8rem;
    }

    #chat-messages li {
      margin-bottom: 0.8rem;
    }

    #chat-messages .user {
      text-align: right;
      color: var(--accent);
    }

    #chat-messages .grok {
      text-align: left;
      color: #006400;
    }

    #chat-input {
      width: 100%;
      padding: 0.8rem;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 1rem;
      background: var(--card);
      color: var(--text);
    }

    #weather { font-size: 1.2rem; }
    #weather .temp { font-size: 3rem; font-weight: bold; margin: 0.5rem 0; }
    #calendar iframe { width: 100%; height: 500px; border: none; border-radius: 12px; }
    footer {
      text-align: center;
      margin-top: 3rem;
      opacity: 0.8;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <h1>Noah's Vibe Dashboard üåßÔ∏èüóìÔ∏èüôè</h1>

  <div class="grid">
    <div class="card">
      <h2>Essex, MD Weather</h2>
      <div id="weather">Loading weather...</div>
    </div>

    <div class="card" id="calendar">
      <h2>My Calendar</h2>
      <iframe src="https://calendar.google.com/calendar/embed?src=en.usa%23holiday%40group.v.calendar.google.com&ctz=America%2FNew_York" style="border: 0" width="100%" height="500" frameborder="0" scrolling="no"></iframe>
      <p style="font-size:0.9rem; margin-top:1rem; opacity:0.7;">‚Üë Replace src= with your personal embed</p>
    </div>

    <div class="card">
      <h2>Daily Home Workout (~15 Min)</h2>
      <div id="workout">Generating today's regimen...</div>
    </div>

    <div class="card">
      <h2>Ask Grok</h2>
      <div id="chat-messages"></div>
      <input type="text" id="chat-input" placeholder="Ask Grok anything... (e.g., explain Romans 13)" />
    </div>

    <div class="card devotional-card">
      <h2>Daily Devotional (NKJV - New Testament Journey)</h2>
      <div id="devotional">Loading today's chapter...</div>
    </div>
  </div>

  <footer>Vibe coded by Grok ‚Ä¢ Jan 30, 2026 ‚Ä¢ Essex, MD ‚Ä¢ Refresh for updates</footer>

  <script>
    const corsProxy = 'https://api.allorigins.win/raw?url=';

    // Weather
    async function getWeather() {
      try {
        const url = 'https://api.open-meteo.com/v1/forecast?latitude=39.309&longitude=-76.475&current=temperature_2m,apparent_temperature,weather_code,wind_speed_10m&temperature_unit=fahrenheit&wind_speed_unit=mph&precipitation_unit=inch&timezone=America%2FNew_York';
        const res = await fetch(url);
        if (!res.ok) throw new Error('Weather HTTP ' + res.status);
        const data = await res.json();
        const current = data.current;
        const weatherCodes = { 0: 'Clear sky üå§Ô∏è', 1: 'Mainly clear', 2: 'Partly cloudy ‚òÅÔ∏è', 3: 'Overcast', 45: 'Fog', 51: 'Light drizzle', 61: 'Rain üåßÔ∏è', 71: 'Snow ‚ùÑÔ∏è', 80: 'Rain showers' };
        const code = current.weather_code;
        const desc = weatherCodes[code] || 'Unknown';
        document.getElementById('weather').innerHTML = `
          <div class="temp">${Math.round(current.temperature_2m)}¬∞F</div>
          <p>Feels like: ${Math.round(current.apparent_temperature)}¬∞F</p>
          <p>${desc} ‚Ä¢ Wind: ${Math.round(current.wind_speed_10m)} mph</p>
        `;
      } catch (err) {
        console.error('Weather error:', err);
        document.getElementById('weather').innerHTML = 'Weather failed üòÖ';
      }
    }
    getWeather();

    // Devotional - starts at Romans 12
    async function getDevotional() {
      try {
        const ntBooks = [
          { name: 'Romans', chapters: 16, bookId: 45 },
          { name: '1 Corinthians', chapters: 16, bookId: 46 },
          { name: '2 Corinthians', chapters: 13, bookId: 47 },
          { name: 'Galatians', chapters: 6, bookId: 48 },
          { name: 'Ephesians', chapters: 6, bookId: 49 },
          { name: 'Philippians', chapters: 4, bookId: 50 },
          { name: 'Colossians', chapters: 4, bookId: 51 },
          { name: '1 Thessalonians', chapters: 5, bookId: 52 },
          { name: '2 Thessalonians', chapters: 3, bookId: 53 },
          { name: '1 Timothy', chapters: 6, bookId: 54 },
          { name: '2 Timothy', chapters: 4, bookId: 55 },
          { name: 'Titus', chapters: 3, bookId: 56 },
          { name: 'Philemon', chapters: 1, bookId: 57 },
          { name: 'Hebrews', chapters: 13, bookId: 58 },
          { name: 'James', chapters: 5, bookId: 59 },
          { name: '1 Peter', chapters: 5, bookId: 60 },
          { name: '2 Peter', chapters: 3, bookId: 61 },
          { name: '1 John', chapters: 5, bookId: 62 },
          { name: '2 John', chapters: 1, bookId: 63 },
          { name: '3 John', chapters: 1, bookId: 64 },
          { name: 'Jude', chapters: 1, bookId: 65 },
          { name: 'Revelation', chapters: 22, bookId: 66 }
        ];

        const startDate = new Date('2026-01-30T00:00:00');
        const today = new Date();
        const daysSince = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));

        // Start at Romans 12
        const romansStartChapter = 12;
        const romansChaptersRemaining = ntBooks[0].chapters - (romansStartChapter - 1);
        const chaptersAfterRomans = ntBooks.slice(1).reduce((sum, b) => sum + b.chapters, 0);
        const totalChapters = romansChaptersRemaining + chaptersAfterRomans;
        const chapterIndex = daysSince % totalChapters;

        let currentBookIndex = 0;
        let chapterNum = romansStartChapter + chapterIndex;

        if (chapterNum > ntBooks[0].chapters) {
          chapterNum -= ntBooks[0].chapters - (romansStartChapter - 1);
          currentBookIndex = 1;
          while (chapterNum > ntBooks[currentBookIndex].chapters && currentBookIndex < ntBooks.length - 1) {
            chapterNum -= ntBooks[currentBookIndex].chapters;
            currentBookIndex++;
          }
        }

        const currentBook = ntBooks[currentBookIndex];

        const devoUrl = `https://bolls.life/get-text/NKJV/${currentBook.bookId}/${chapterNum}/`;
        const res = await fetch(corsProxy + devoUrl);
        if (!res.ok) throw new Error('Devotional HTTP ' + res.status);
        const verses = await res.json();

        let chapterHtml = `<h3>${currentBook.name} ${chapterNum} (NKJV)</h3>`;

        // Paragraph grouping (every 5 verses as fallback)
        for (let i = 0; i < verses.length; i += 5) {
          chapterHtml += '<div class="paragraph">';
          const group = verses.slice(i, i + 5);
          group.forEach((v, idx) => {
            if (idx > 0) chapterHtml += ' ';
            chapterHtml += `<span class="verse-num">${v.verse}.</span> ${v.text}`;
          });
          chapterHtml += '</div>';
        }

        const bookLower = currentBook.name.toLowerCase();
        const chapterStr = chapterNum;

        chapterHtml += `
          <div class="overviews">
            <h4>Scholarly Overviews & Teachings:</h4>

            <h5>Voddie Baucham</h5>
            <p class="synopsis">
              The call to present your bodies as living sacrifices is not optional but the only reasonable response to God‚Äôs mercies. Renewing the mind is the key to transformation ‚Äî not conforming to the world‚Äôs patterns but being shaped by God‚Äôs truth so you can discern and live out His will.
            </p>
            <a href="https://www.youtube.com/results?search_query=voddie+baucham+${bookLower}+${chapterStr}" target="_blank">Watch Voddie Baucham on ${currentBook.name} ${chapterNum}</a>

            <h5>Paul Washer</h5>
            <p class="synopsis">
              Don‚Äôt be deceived into thinking you can offer God a half-hearted life. The gospel demands everything ‚Äî present your body as a living sacrifice, holy and acceptable. True renewal of the mind comes through immersion in Scripture and dependence on the Spirit, leading to a life that hates evil and clings to good.
            </p>
            <a href="https://www.youtube.com/results?search_query=paul+washer+${bookLower}+${chapterStr}" target="_blank">Watch Paul Washer on ${currentBook.name} ${chapterNum}</a>

            <h5>Ron Carpenter</h5>
            <p class="synopsis">
              God has given each of us gifts ‚Äî don‚Äôt bury them. Renew your mind so you can see your purpose clearly and use what God has placed in you to bless others. Love must be genuine, hate evil, hold fast to good, and outdo one another in showing honor ‚Äî that‚Äôs how you live a transformed life.
            </p>
            <a href="https://www.youtube.com/results?search_query=ron+carpenter+${bookLower}+${chapterStr}" target="_blank">Watch Ron Carpenter on ${currentBook.name} ${chapterNum}</a>

            <h5>Unashamed with the Robertson Family</h5>
            <p class="synopsis">
              Don‚Äôt let the world squeeze you into its mold. Be transformed by renewing your mind through God‚Äôs Word. Use your gifts to serve the body of Christ, love sincerely, hate what is evil, and overcome evil with good ‚Äî that‚Äôs real faith lived out in family and community.
            </p>
            <a href="https://www.youtube.com/results?search_query=unashamed+podcast+${bookLower}+${chapterStr}+OR+romans+robertson" target="_blank">Watch Unashamed podcast on ${currentBook.name} ${chapterNum} or Romans themes</a>

            <h5>Closing Prayer</h5>
            <div class="prayer">
              Heavenly Father, thank You for calling us in ${currentBook.name} ${chapterStr} to offer ourselves as living sacrifices and to be transformed by the renewing of our minds. Help us not conform to this world but discern Your perfect will. Give us grace to use our gifts faithfully, love genuinely, hate evil, cling to good, and overcome evil with good. Strengthen our families, deepen our faith, and make us bold witnesses for Christ. In Jesus' name, Amen.
            </div>

            <p style="margin-top:2rem;">(Links open YouTube searches for sermons/podcast episodes. Refresh tomorrow for next chapter!)</p>
          </div>
        `;

        document.getElementById('devotional').innerHTML = chapterHtml;
      } catch (err) {
        console.error('Devotional error:', err);
        document.getElementById('devotional').innerHTML = 'Chapter load failed üòÖ ‚Äì try refreshing or read Romans 13 in your Bible app.';
      }
    }
    getDevotional();

    // Daily Home Workout - consistent structure + variety
    function getWorkout() {
      const startDate = new Date('2026-01-30T00:00:00');
      const today = new Date();
      const daysSince = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));

      const baseReps = 10 + (daysSince % 11); // 10‚Äì20 range
      const sets = 3;
      const restTime = '45‚Äì60 sec';

      const legExercises = [
        'Air Squats', 'Walking Lunges (per leg)', 'Bulgarian Split Squats (per leg)', 'Glute Bridges', 'Wall Sit (hold)'
      ];
      const pushExercises = [
        'Push-ups', 'Diamond Push-ups', 'Pike Push-ups', 'Hand-Release Push-ups', 'Tricep Dips (floor or chair)'
      ];
      const coreExercises = [
        'Crunches', 'Bicycle Crunches (per side)', 'Russian Twists (per side)', 'Plank Hold (time)', 'Leg Raises'
      ];
      const extraExercises = [
        'Mountain Climbers (per side)', 'Burpees', 'Superman Holds (time)', 'Jumping Jacks', 'High Knees (time)'
      ];

      const leg = legExercises[daysSince % legExercises.length];
      const push = pushExercises[daysSince % pushExercises.length];
      const core = coreExercises[daysSince % coreExercises.length];
      const extra = extraExercises[daysSince % extraExercises.length];

      let workoutHtml = '<ul>';
      workoutHtml += `<li>${sets} sets of ${baseReps + (daysSince % 5)} ${leg} (rest ${restTime})</li>`;
      workoutHtml += `<li>${sets} sets of ${baseReps} ${push} (rest ${restTime})</li>`;
      workoutHtml += `<li>${sets} sets of ${baseReps + (daysSince % 7)} ${core} (rest ${restTime})</li>`;
      workoutHtml += `<li>${sets} sets of ${baseReps + (daysSince % 4)} ${extra} (rest ${restTime})</li>`;
      workoutHtml += '</ul>';
      workoutHtml += '<p>~15 min total. Warm up 2 min (jog in place/arm circles), cool down stretch. Legs + push + core every day ‚Äî extra rotates.</p>';

      document.getElementById('workout').innerHTML = workoutHtml;
    }
    getWorkout();

    // Ask Grok Chat (mock mode)
    const chatInput = document.getElementById('chat-input');
    const chatMessages = document.getElementById('chat-messages');

    chatInput.addEventListener('keypress', async (e) => {
      if (e.key === 'Enter' && chatInput.value.trim()) {
        const userMsg = chatInput.value.trim();
        chatMessages.innerHTML += `<li class="user">You: ${userMsg}</li>`;
        chatInput.value = '';
        chatMessages.scrollTop = chatMessages.scrollHeight;

        const mockReplies = [
          "Hey Noah, Romans 13 is powerful ‚Äì love fulfills the law, submit to authorities, put on Christ. How's it speaking to you?",
          "Grok here. Want a breakdown of today's chapter or some workout encouragement?",
          "Vibe check: consistency in Scripture and training builds real strength. What's on your mind today?",
          "Unashamed style: live honorably, love your neighbor, walk in the light. Need prayer or insight?"
        ];
        const reply = mockReplies[Math.floor(Math.random() * mockReplies.length)];
        setTimeout(() => {
          chatMessages.innerHTML += `<li class="grok">Grok: ${reply}</li>`;
          chatMessages.scrollTop = chatMessages.scrollHeight;
        }, 800);
      }
    });
  </script>
</body>
</html>